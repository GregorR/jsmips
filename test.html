<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="xterm.css"></script>
        <script type="text/javascript" src="nomath.js"></script>
        <script type="text/javascript" src="vmem.js"></script>
        <script type="text/javascript" src="consts.js"></script>
        <script type="text/javascript" src="mips.js"></script>
        <script type="text/javascript" src="fs/fs.js"></script>
        <script type="text/javascript" src="xterm.js"></script>
        <script type="text/javascript" src="xtermtty.js"></script>
    </head>
    <body>
        <script type="text/javascript">(function() {
            // Make the terminal
            var termBox = document.createElement("div");
            document.body.appendChild(termBox);
            var term = new Terminal();
            term.open(termBox);

            JSMIPS.setUpRoot().then(function() {
                // Run a shell
                var m = new JSMIPS.MIPS();
                m.execve("/bin/sh", ["/bin/sh", "-i"], ["PATH=/bin:/usr/bin"]);
                //m.execve("/usr/lib/libc.so", ["/usr/lib/libc.so"], ["PATH=/bin:/usr/bin"]);
                m.xterm(term);
                return m.runPromise();

            });
        })();
        </script>
    </body>
</html>
